(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,a,t){e.exports=t(31)},30:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(12),c=t.n(o),p=t(13),l=t(6),i=t(2),s=t(18),d=t(15),u=t(16),m=t(19),f=t(17),E=t(20),y=37,h=38,v=39,w=40,O=200,k={x:0,y:-1},g={x:0,y:1},A={x:-1,y:0},b={x:1,y:0},T={grid:function(e){for(var a=[],t=0;t<e;t++){for(var n=[],r=0;r<e;r++)n.push({row:t,col:r});a.push(n)}return a}(20),apple:{row:Math.floor(20*Math.random()),col:Math.floor(20*Math.random())},snake:{head:{row:9,col:9},velocity:{x:1,y:0},tail:[{row:9,col:8},{row:9,col:7}]},gameOver:!1},j=(t(30),function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).componentDidMount=function(){t.start()},t.start=function(){t.props.reset({state:T}),document.addEventListener("keydown",function(e){t.moveSnake(e)}),setTimeout(function(){t.gameLoop()},O)},t.gameLoop=function(){if(!t.props.gameOver){var e=t.props,a=e.snake,n=e.apple,r=t.snakeEatsApple(),o={row:a.head.row+a.velocity.y,col:a.head.col+a.velocity.x},c=[a.head].concat(Object(s.a)(a.tail)),p=n;r?p=t.getRandomApple():c.pop(),t.props.createApple({newApple:p}),t.props.updateSnakeHead({newHead:o}),t.props.updateSnakeTail({newTail:c}),t.isOffEdge()||t.isTail(t.props.snake.head)?t.props.setGameOver({flag:!0}):setTimeout(function(){t.gameLoop()},O)}},t.getRandomApple=function(){var e=t.props.grid,a=[];return e.forEach(function(e){e.forEach(function(e){t.isTail(e)&&t.isHead(e)||a.push(e)})}),a[Math.floor(Math.random()*a.length)]},t.snakeEatsApple=function(){var e=t.props,a=e.apple,n=e.snake;return a.row===n.head.row&&a.col===n.head.col},t.isOffEdge=function(){var e=t.props.snake;if(e.head.col>19||e.head.col<0||e.head.row>19||e.head.row<0)return!0},t.isHead=function(e){var a=t.props.snake;return a.head.row===e.row&&a.head.col===e.col},t.isApple=function(e){var a=t.props.apple;return a.row===e.row&&a.col===e.col},t.isTail=function(e){return t.props.snake.tail.find(function(a){return a.row===e.row&&a.col===e.col})},t.moveSnake=function(e){switch(e.keyCode){case h:return void t.props.updateSnakeVelocity({newVelocity:k});case y:return void t.props.updateSnakeVelocity({newVelocity:A});case w:return void t.props.updateSnakeVelocity({newVelocity:g});case v:return void t.props.updateSnakeVelocity({newVelocity:b});default:return}},t.renderGrid=function(){var e=t.props,a=e.grid,n=e.snake;return r.a.createElement("div",{className:"center"},r.a.createElement("h2",null,"Score: ",n.tail.length-2),r.a.createElement("section",{className:"grid"},a.map(function(e){return e.map(function(e){return r.a.createElement("div",{key:"".concat(e.row," ").concat(e.col),className:"cell ".concat(t.isHead(e)?"head":t.isApple(e)?"apple":t.isTail(e)?"tail":"")})})})))},t.renderGameOver=function(){return r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"card-title"},"Game Over!!"),r.a.createElement("p",{className:"card-text"},"Your Score is: ",t.props.snake.tail.length-2),r.a.createElement("button",{className:"btn btn-primary",onClick:t.start},"Restart")))},t}return Object(E.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.props.gameOver?this.renderGameOver():this.renderGrid())}}]),a}(n.Component)),S=Object(l.b)(function(e){return{grid:e.game.grid,apple:e.game.apple,snake:e.game.snake,gameOver:e.game.gameOver}},{reset:function(e){return{type:"RESET",payload:e}},createApple:function(e){return{type:"CREATE_APPLE",payload:e}},setGameOver:function(e){return{type:"GAME_OVER",payload:e}},updateSnakeTail:function(e){return{type:"UPDATE_TAIL",payload:e}},updateSnakeHead:function(e){return{type:"UPDATE_HEAD",payload:e}},updateSnakeVelocity:function(e){return{type:"UPDATE_VELOCITY",payload:e}}})(j),_=t(1),V=Object(i.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RESET":return Object(_.a)({},a.payload.state);case"GAME_OVER":return Object(_.a)({},e,{gameOver:a.payload.flag});case"CREATE_APPLE":return Object(_.a)({},e,{apple:a.payload.newApple});case"UPDATE_HEAD":return Object(_.a)({},e,{snake:Object(_.a)({},e.snake,{head:a.payload.newHead})});case"UPDATE_TAIL":return Object(_.a)({},e,{snake:Object(_.a)({},e.snake,{tail:a.payload.newTail})});case"UPDATE_VELOCITY":return Object(_.a)({},e,{snake:Object(_.a)({},e.snake,{velocity:a.payload.newVelocity})});default:return e}}}),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,L=Object(i.e)(V,D(Object(i.a)(p.a)));c.a.render(r.a.createElement(l.a,{store:L},r.a.createElement(S,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.17ba2a08.chunk.js.map