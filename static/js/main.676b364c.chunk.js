(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports=t.p+"static/media/EatSound.1aae80ce.ogg"},20:function(e,a,t){e.exports=t(31)},30:function(e,a,t){},31:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),l=t(11),i=t(5),s=t(2),p=t(17),d=t(13),u=t(14),m=t(18),f=t(15),v=t(19),h="snake_redux_high",g=37,y=38,E=39,k=40,w=13,O=20,A=80,S={x:0,y:-1},T={x:0,y:1},b={x:-1,y:0},H={x:1,y:0},j={grid:function(e){for(var a=[],t=0;t<e;t++){for(var n=[],r=0;r<e;r++)n.push({row:t,col:r});a.push(n)}return a}(O),apple:{row:Math.floor(Math.random()*O),col:Math.floor(Math.random()*O)},snake:{head:{row:9,col:9},velocity:H,tail:[{row:9,col:8},{row:9,col:7}]},gameOver:!1},_=(t(30),t(16)),C=t.n(_),N=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).eatAudio=new Audio(C.a),t.componentDidMount=function(){t.start()},t.playEatAudio=function(){return t.eatAudio.play()},t.start=function(){t.props.reset({state:j}),document.addEventListener("keydown",function(e){t.moveSnake(e)}),setTimeout(function(){t.gameLoop()},A)},t.gameLoop=function(){if(!t.props.gameOver){var e=t.props.snake,a={row:e.head.row+e.velocity.y,col:e.head.col+e.velocity.x};t.props.updateSnakeHead({newHead:a}),t.moveOnEdge();var n=[e.head].concat(Object(p.a)(e.tail));if(t.snakeEatsApple()){t.playEatAudio().then(function(){console.log("ate")}).catch(function(e){console.log(e)});var r=t.getRandomApple();t.props.createApple({newApple:r})}else n.pop();t.props.updateSnakeTail({newTail:n}),t.isGameOver()&&(t.updateHigh(),t.props.setGameOver({flag:!0})),setTimeout(function(){t.gameLoop()},A)}},t.moveOnEdge=function(){var e=t.props.snake;if(t.isOffEdge(e.head))if(e.head.col>O-1){var a={row:e.head.row,col:0};t.props.updateSnakeHead({newHead:a})}else if(e.head.col<0){var n={row:e.head.row,col:O-1};t.props.updateSnakeHead({newHead:n})}else if(e.head.row<0){var r={row:O-1,col:e.head.col};t.props.updateSnakeHead({newHead:r})}else if(e.head.row>O-1){var o={row:0,col:e.head.col};t.props.updateSnakeHead({newHead:o})}},t.getRandomApple=function(){var e=t.props.grid,a=[];return e.forEach(function(e){e.forEach(function(e){t.isTail(e)||t.isHead(e)||a.push(e)})}),a[Math.floor(Math.random()*a.length)]},t.snakeEatsApple=function(){var e=t.props,a=e.apple,n=e.snake;return a.row===n.head.row&&a.col===n.head.col},t.isEating=function(){return t.snakeEatsApple()?(console.log("here"),"eating"):""},t.isGameOver=function(){return!!t.isTail(t.props.snake.head)},t.isOffEdge=function(){var e=t.props.snake;if(e.head.col>O-1||e.head.col<0||e.head.row>O-1||e.head.row<0)return!0},t.isHead=function(e){var a=t.props.snake;return a.head.row===e.row&&a.head.col===e.col},t.isApple=function(e){var a=t.props.apple;return a.row===e.row&&a.col===e.col},t.isTail=function(e){return t.props.snake.tail.find(function(a){return a.row===e.row&&a.col===e.col})},t.getHigh=function(){return localStorage.getItem(h)},t.updateHigh=function(){var e=t.props.snake;(null===t.getHigh()||t.getHigh()<e.tail.length-2)&&localStorage.setItem(h,e.tail.length-2)},t.moveSnake=function(e){var a=t.props.snake;switch(e.keyCode){case y:if(a.velocity===S||a.velocity===T)return;return void t.props.updateSnakeVelocity({newVelocity:S});case g:if(a.velocity===b||a.velocity===H)return;return void t.props.updateSnakeVelocity({newVelocity:b});case k:if(a.velocity===S||a.velocity===T)return;return void t.props.updateSnakeVelocity({newVelocity:T});case E:if(a.velocity===b||a.velocity===H)return;return void t.props.updateSnakeVelocity({newVelocity:H});case w:return void(t.props.gameOver&&t.start());default:return}},t.renderGrid=function(){var e=t.props,a=e.grid,n=e.snake;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"snake-emoji"},"\ud83d\udc0d"),r.a.createElement("div",null,r.a.createElement("h3",{className:"score"},"Current Score: ",n.tail.length-2," ",r.a.createElement("span",{style:{fontSize:"18px"}}," | ")," Highest Score:"," ",t.getHigh()||0),r.a.createElement("section",{className:"grid",style:{gridTemplateColumns:"repeat(".concat(O,", 1fr)"),gridTemplateRows:"repeat(".concat(O,", 1fr)")}},a.map(function(e){return e.map(function(e){return r.a.createElement("div",{key:"".concat(e.row," ").concat(e.col),style:{width:"".concat(800/O),height:"".concat(800/O)},className:"cell ".concat(t.isHead(e)?"head":t.snakeEatsApple(e)?"eating":t.isApple(e)?"apple":t.isTail(e)?"tail":"")})})}))),r.a.createElement("div",{className:"control-grid"},r.a.createElement("div",{className:"control-up",onClick:function(){return t.moveSnake({keyCode:38})}},"\u2191"),r.a.createElement("div",{className:"control-left",onClick:function(){return t.moveSnake({keyCode:37})}},"\u2190"),r.a.createElement("div",{className:"control-right",onClick:function(){return t.moveSnake({keyCode:39})}},"\u2192"),r.a.createElement("div",{className:"control-down",onClick:function(){return t.moveSnake({keyCode:40})}},"\u2193")))},t.renderGameOver=function(){return r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"You bit yourself!!"),r.a.createElement("p",{className:"card-text"},"Your Score is: ",t.props.snake.tail.length-2),r.a.createElement("button",{className:"btn btn-primary",onClick:t.start},"Restart")))},t}return Object(v.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.props.gameOver?this.renderGameOver():this.renderGrid())}}]),a}(n.Component),V=Object(i.b)(function(e){return{grid:e.game.grid,apple:e.game.apple,snake:e.game.snake,gameOver:e.game.gameOver}},{reset:function(e){return{type:"RESET",payload:e}},createApple:function(e){return{type:"CREATE_APPLE",payload:e}},setGameOver:function(e){return{type:"GAME_OVER",payload:e}},updateSnakeTail:function(e){return{type:"UPDATE_TAIL",payload:e}},updateSnakeHead:function(e){return{type:"UPDATE_HEAD",payload:e}},updateSnakeVelocity:function(e){return{type:"UPDATE_VELOCITY",payload:e}}})(N),x=t(1),D=Object(s.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RESET":return Object(x.a)({},a.payload.state);case"GAME_OVER":return Object(x.a)({},e,{gameOver:a.payload.flag});case"CREATE_APPLE":return Object(x.a)({},e,{apple:a.payload.newApple});case"UPDATE_HEAD":return Object(x.a)({},e,{snake:Object(x.a)({},e.snake,{head:a.payload.newHead})});case"UPDATE_TAIL":return Object(x.a)({},e,{snake:Object(x.a)({},e.snake,{tail:a.payload.newTail})});case"UPDATE_VELOCITY":return Object(x.a)({},e,{snake:Object(x.a)({},e.snake,{velocity:a.payload.newVelocity})});default:return e}}}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,P=Object(s.e)(D,L(Object(s.a)(l.a)));c.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(V,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.676b364c.chunk.js.map