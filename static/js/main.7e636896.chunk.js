(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/EatSound.1aae80ce.ogg"},22:function(e,a,t){e.exports=t(32)},31:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(12),c=t.n(o),i=t(13),l=t(6),p=t(2),s=t(19),d=t(15),u=t(16),f=t(20),m=t(17),v=t(21),y=37,h=38,E=39,w=40,g=13,k=20,O=100,A={x:0,y:-1},T={x:0,y:1},b={x:-1,y:0},S={x:1,y:0},j={grid:function(e){for(var a=[],t=0;t<e;t++){for(var n=[],r=0;r<e;r++)n.push({row:t,col:r});a.push(n)}return a}(k),apple:{row:Math.floor(Math.random()*k),col:Math.floor(Math.random()*k)},snake:{head:{row:9,col:9},velocity:{x:1,y:0},tail:[{row:9,col:8},{row:9,col:7}]},gameOver:!1},H=(t(31),t(18)),_=t.n(H),V=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=Object(f.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).eatAudio=new Audio(_.a),t.componentDidMount=function(){t.start()},t.playEatAudio=function(){return t.eatAudio.play()},t.start=function(){t.props.reset({state:j}),document.addEventListener("keydown",function(e){t.moveSnake(e)}),setTimeout(function(){t.gameLoop()},O)},t.gameLoop=function(){if(!t.props.gameOver){var e=t.props.snake,a={row:e.head.row+e.velocity.y,col:e.head.col+e.velocity.x};t.props.updateSnakeHead({newHead:a}),t.moveOnEdge();var n=[e.head].concat(Object(s.a)(e.tail));if(t.snakeEatsApple()){t.playEatAudio().then(function(){console.log("ate")}).catch(function(e){console.log(e)});var r=t.getRandomApple();t.props.createApple({newApple:r})}else n.pop();t.props.updateSnakeTail({newTail:n}),t.isTail(t.props.snake.head)&&t.props.setGameOver({flag:!0}),setTimeout(function(){t.gameLoop()},O)}},t.moveOnEdge=function(){var e=t.props.snake;if(t.isOffEdge(e.head))if(e.head.col>k-1){var a={row:e.head.row,col:0};t.props.updateSnakeHead({newHead:a})}else if(e.head.col<0){var n={row:e.head.row,col:k-1};t.props.updateSnakeHead({newHead:n})}else if(e.head.row<0){var r={row:k-1,col:e.head.col};t.props.updateSnakeHead({newHead:r})}else if(e.head.row>k-1){var o={row:0,col:e.head.col};t.props.updateSnakeHead({newHead:o})}},t.getRandomApple=function(){var e=t.props.grid,a=[];return e.forEach(function(e){e.forEach(function(e){t.isTail(e)||t.isHead(e)||a.push(e)})}),a[Math.floor(Math.random()*a.length)]},t.snakeEatsApple=function(){var e=t.props,a=e.apple,n=e.snake;return a.row===n.head.row&&a.col===n.head.col},t.isEating=function(){return t.snakeEatsApple()?(console.log("here"),"eating"):""},t.isOffEdge=function(){var e=t.props.snake;if(e.head.col>k-1||e.head.col<0||e.head.row>k-1||e.head.row<0)return!0},t.isHead=function(e){var a=t.props.snake;return a.head.row===e.row&&a.head.col===e.col},t.isApple=function(e){var a=t.props.apple;return a.row===e.row&&a.col===e.col},t.isTail=function(e){return t.props.snake.tail.find(function(a){return a.row===e.row&&a.col===e.col})},t.moveSnake=function(e){var a=t.props.snake;switch(e.keyCode){case h:if(a.velocity===A||a.velocity===T)return;return void t.props.updateSnakeVelocity({newVelocity:A});case y:if(a.velocity===b||a.velocity===S)return;return void t.props.updateSnakeVelocity({newVelocity:b});case w:if(a.velocity===A||a.velocity===T)return;return void t.props.updateSnakeVelocity({newVelocity:T});case E:if(a.velocity===b||a.velocity===S)return;return void t.props.updateSnakeVelocity({newVelocity:S});case g:return void(t.props.gameOver&&t.start());default:return}},t.renderGrid=function(){var e=t.props,a=e.grid,n=e.snake;return r.a.createElement("div",{className:"center"},r.a.createElement("h3",{className:"score"},"Score: ",n.tail.length-2),r.a.createElement("section",{className:"grid",style:{gridTemplateColumns:"repeat(".concat(k,", 1fr)"),gridTemplateRows:"repeat(".concat(k,", 1fr)")}},a.map(function(e){return e.map(function(e){return r.a.createElement("div",{key:"".concat(e.row," ").concat(e.col),style:{width:"".concat(800/k),height:"".concat(800/k)},className:"cell ".concat(t.isHead(e)?"head":t.snakeEatsApple(e)?"eating":t.isApple(e)?"apple":t.isTail(e)?"tail":"")})})})))},t.renderGameOver=function(){return r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"card-title"},"You bit yourself!!"),r.a.createElement("p",{className:"card-text"},"Your Score is: ",t.props.snake.tail.length-2),r.a.createElement("button",{className:"btn btn-primary",onClick:t.start},"Restart")))},t}return Object(v.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.props.gameOver?this.renderGameOver():this.renderGrid())}}]),a}(n.Component),N=Object(l.b)(function(e){return{grid:e.game.grid,apple:e.game.apple,snake:e.game.snake,gameOver:e.game.gameOver}},{reset:function(e){return{type:"RESET",payload:e}},createApple:function(e){return{type:"CREATE_APPLE",payload:e}},setGameOver:function(e){return{type:"GAME_OVER",payload:e}},updateSnakeTail:function(e){return{type:"UPDATE_TAIL",payload:e}},updateSnakeHead:function(e){return{type:"UPDATE_HEAD",payload:e}},updateSnakeVelocity:function(e){return{type:"UPDATE_VELOCITY",payload:e}}})(V),D=t(1),L=Object(p.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"RESET":return Object(D.a)({},a.payload.state);case"GAME_OVER":return Object(D.a)({},e,{gameOver:a.payload.flag});case"CREATE_APPLE":return Object(D.a)({},e,{apple:a.payload.newApple});case"UPDATE_HEAD":return Object(D.a)({},e,{snake:Object(D.a)({},e.snake,{head:a.payload.newHead})});case"UPDATE_TAIL":return Object(D.a)({},e,{snake:Object(D.a)({},e.snake,{tail:a.payload.newTail})});case"UPDATE_VELOCITY":return Object(D.a)({},e,{snake:Object(D.a)({},e.snake,{velocity:a.payload.newVelocity})});default:return e}}}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,R=Object(p.e)(L,P(Object(p.a)(i.a)));c.a.render(r.a.createElement(l.a,{store:R},r.a.createElement(N,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.7e636896.chunk.js.map